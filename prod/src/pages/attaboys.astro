---
import { loadQuery } from '../lib/loadQuery';
import BaseLayout from '../layouts/BaseLayout.astro';
import AttaboysSection from '../components/attaboys/Attaboys.astro';

// Fetch testimonials from Sanity
const testimonials = await loadQuery<any[]>({
  query: `
    *[_type == "testimonial"] {
      "id": _id,
      "src": image.asset->url,
      "alt": image.alt,
      caption
    }
  `
});
---

<BaseLayout title="Attaboys - Mike Lacey">
  <AttaboysSection testimonials={testimonials} />
</BaseLayout>
